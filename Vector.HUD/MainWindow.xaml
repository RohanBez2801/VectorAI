<Window x:Class="Vector.HUD.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Vector.HUD"
        mc:Ignorable="d"
        Title="V.E.C.T.O.R. HUD" 
        Height="300" Width="800"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent" 
        Topmost="True"
        ShowInTaskbar="True">

    <Grid>
        <Grid.Background>
            <RadialGradientBrush Center="0.5,0.5" GradientOrigin="0.5,0.5" RadiusX="0.7" RadiusY="0.7">
                <GradientStop Color="#15000000" Offset="0"/>
                <GradientStop Color="#00000000" Offset="1"/>
            </RadialGradientBrush>
        </Grid.Background>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="20,10" HorizontalAlignment="Right">
            <Ellipse x:Name="BrainStatus" Width="8" Height="8" Fill="LimeGreen" Margin="5,0" ToolTip="Core Brain Status"/>
            <TextBlock Text="CORE" Foreground="#00FFD1" FontSize="10" FontFamily="Segoe UI Semibold" VerticalAlignment="Center" Margin="0,0,15,0"/>

            <Ellipse x:Name="SentinelStatus" Width="8" Height="8" Fill="LimeGreen" Margin="5,0" ToolTip="Sentinel (Vision/Audio) Status"/>
            <TextBlock Text="SENTINEL" Foreground="#00FFD1" FontSize="10" FontFamily="Segoe UI Semibold" VerticalAlignment="Center" Margin="0,0,15,0"/>

            <Ellipse x:Name="OllamaStatus" Width="8" Height="8" Fill="Red" Margin="5,0" ToolTip="Ollama Connection Status"/>
            <TextBlock Text="LLM" Foreground="#00FFD1" FontSize="10" FontFamily="Segoe UI Semibold" VerticalAlignment="Center"/>
        </StackPanel>

        <local:HolographicFace x:Name="VectorFace" 
                               Grid.Row="1" 
                               Width="300" Height="300" 
                               HorizontalAlignment="Center" 
                               VerticalAlignment="Center" 
                               Margin="0,-50,0,0"/>

        <Border Grid.Row="2" Background="#00222222" VerticalAlignment="Stretch" CornerRadius="2" Margin="20,0,20,5">
            <Grid>
                <Rectangle x:Name="AudioBar" HorizontalAlignment="Left" VerticalAlignment="Bottom" Height="2" Width="0" Fill="#00FFD1" RadiusX="1" RadiusY="1">
                    <Rectangle.Effect>
                        <DropShadowEffect BlurRadius="6" Color="#00FFD1" ShadowDepth="0" Opacity="0.8"/>
                    </Rectangle.Effect>
                </Rectangle>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,6,0">
                    <TextBlock x:Name="RmsText" Text="RMS: 0.00" Foreground="#00FFD1" FontSize="10" VerticalAlignment="Center" Margin="0,0,8,0"/>

                    <ToggleButton x:Name="VisualizerToggle" IsChecked="True" Content="Visualizer" Width="70" Height="18" FontSize="10" 
                                  Background="Transparent" Foreground="#00FFD1" BorderBrush="#3300FFD1"/>

                    <Button x:Name="CalibrateButton" Content="🎙️" Width="26" Height="18" Margin="6,0,0,0" ToolTip="Calibrate ambient noise" 
                            Background="Transparent" Foreground="#00FFD1" BorderBrush="#3300FFD1"/>

                    <CheckBox x:Name="DebugToggle" Content="Debug" Margin="6,0,0,0" VerticalAlignment="Center" Foreground="#00FFD1"/>

                    <Border BorderBrush="#3300FFD1" BorderThickness="1" Height="20" Width="100" Margin="8,0,0,0">
                        <Canvas ClipToBounds="True">
                            <Polyline x:Name="RmsGraph" Stroke="#00FFD1" StrokeThickness="1" Points=""/>
                        </Canvas>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <Border x:Name="DebugPane" Grid.Row="1" Background="#CC111111" CornerRadius="6" Padding="8" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="20" Visibility="Collapsed" MaxWidth="300">
            <TextBlock x:Name="DebugText" Foreground="#00FFD1" FontFamily="Consolas" FontSize="12" TextWrapping="Wrap" Text=""/>
        </Border>
    </Grid>
</Window>